{"ast":null,"code":"var _jsxFileName = \"/Users/ste6317/workspace/personal/weblist/weblist/src/components/MainScreen.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport logo from \"./mtg-logo.jpg\";\nimport \"./MainScreen.css\";\nimport ObjectList from \"./ObjectList\";\n\nclass MainScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      objectItems: [],\n      initialItems: []\n    };\n  }\n\n  componentWillMount() {\n    this.getData();\n  }\n\n  sortData() {\n    const unSortedItems = this.state.objectItems;\n    const allItems = this.state.initialItems;\n    unSortedItems.sort(function (a, b) {\n      var nameA = a.name.toLowerCase(),\n          nameB = b.name.toLowerCase();\n      if (nameA < nameB) return -1;\n      if (nameA > nameB) return 1;\n      return 0;\n    });\n    const newState = Object.assign({}, this.state, {\n      objectItems: unSortedItems,\n      initialItems: allItems\n    });\n    this.setState(newState);\n  }\n\n  getData() {\n    axios.get(\"https://api.magicthegathering.io/v1/cards?set=ARB\").then(response => {\n      // create an array of contacts only with relevant data\n      const newObjectItems = response.data.cards.map(c => {\n        return {\n          id: c.id,\n          name: c.name,\n          type: c.type,\n          rarity: c.rarity,\n          creatureText: c.originalText,\n          color: c.colors,\n          image: c.imageUrl,\n          toughness: c.toughness,\n          power: c.power,\n          flavor: c.flavor\n        };\n      });\n      const newState = Object.assign({}, this.state, {\n        objectItems: newObjectItems,\n        initialItems: newObjectItems\n      });\n      this.setState(newState);\n      this.sortData();\n    }).catch(error => console.log(error));\n  }\n\n  filterList(event) {\n    var updatedList = this.state.initialItems;\n    updatedList = updatedList.filter(function (item) {\n      var searchTerms = event.target.value.toLowerCase().split(\"|\");\n      var stringOutput = JSON.stringify(item).toLowerCase();\n\n      for (var i = 0; i < searchTerms.length; i++) {\n        if (searchTerms[i] && stringOutput.search(searchTerms[i]) !== -1) {\n          return true;\n        }\n      }\n\n      return stringOutput.search(event.target.value.toLowerCase()) !== -1;\n    });\n    this.setState({\n      objectItems: updatedList,\n      initialItems: this.state.initialItems\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"Magic the Gathering Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"App-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"Magic the Gathering\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Search-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search\",\n      onChange: this.filterList.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, \" Combine search terms with | or use quotes for exact match\"), \" \"), /*#__PURE__*/React.createElement(ObjectList, {\n      objectItems: this.state.objectItems,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default MainScreen;","map":{"version":3,"sources":["/Users/ste6317/workspace/personal/weblist/weblist/src/components/MainScreen.js"],"names":["React","Component","axios","logo","ObjectList","MainScreen","state","objectItems","initialItems","componentWillMount","getData","sortData","unSortedItems","allItems","sort","a","b","nameA","name","toLowerCase","nameB","newState","Object","assign","setState","get","then","response","newObjectItems","data","cards","map","c","id","type","rarity","creatureText","originalText","color","colors","image","imageUrl","toughness","power","flavor","catch","error","console","log","filterList","event","updatedList","filter","item","searchTerms","target","value","split","stringOutput","JSON","stringify","i","length","search","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport logo from \"./mtg-logo.jpg\";\nimport \"./MainScreen.css\";\nimport ObjectList from \"./ObjectList\";\n\nclass MainScreen extends Component {\n  state = {\n    objectItems: [],\n    initialItems : []\n  };\n  componentWillMount() {\n    this.getData();\n  }\n\n  sortData() {\n    const unSortedItems = this.state.objectItems;\n    const allItems = this.state.initialItems;\n\n    unSortedItems.sort(function(a, b){\n      var nameA=a.name.toLowerCase(), nameB=b.name.toLowerCase();\n      if (nameA < nameB)\n      return -1;\n      if (nameA > nameB)\n      return 1;\n      return 0;\n    });\n    const newState = Object.assign({}, this.state, {\n      objectItems: unSortedItems,\n      initialItems: allItems\n    });\n    this.setState(newState);\n  }\n\n  getData() {\n    axios\n      .get(\"https://api.magicthegathering.io/v1/cards?set=ARB\")\n      .then(response => {\n        // create an array of contacts only with relevant data\n        const newObjectItems = response.data.cards.map(c => {\n          return {\n            id: c.id,\n            name: c.name,\n            type: c.type,\n            rarity : c.rarity,\n            creatureText : c.originalText,\n            color : c.colors,\n            image : c.imageUrl,\n            toughness : c.toughness,\n            power : c.power,\n            flavor : c.flavor\n          };\n        });\n        const newState = Object.assign({}, this.state, {\n          objectItems: newObjectItems,\n          initialItems : newObjectItems\n        });\n        this.setState(newState);\n        this.sortData();\n      })\n      .catch(error => console.log(error));\n  }\n  filterList(event) {\n    var updatedList = this.state.initialItems;\n    updatedList = updatedList.filter(function (item) {\n      var searchTerms = event.target.value.toLowerCase().split(\"|\");\n      var stringOutput = JSON.stringify(item).toLowerCase();\n      for(var i = 0; i < searchTerms.length ; i ++) {\n        if(searchTerms[i] && stringOutput.search(searchTerms[i]) !== -1) {\n          return true;\n        }\n\n      }\n      return stringOutput.search(event.target.value.toLowerCase()) !== -1;\n    });\n    this.setState({ objectItems: updatedList, initialItems : this.state.initialItems });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"Magic the Gathering Logo\" />\n          <h1 className=\"App-title\">Magic the Gathering</h1>\n        </header>\n        <div className=\"Search-bar\">\n        <input type=\"text\" placeholder=\"Search\" onChange={this.filterList.bind(this)}/>\n        <span> Combine search terms with | or use quotes for exact match</span> </div>\n        <ObjectList objectItems={this.state.objectItems} />\n      </div>\n    );\n  }\n}\n\nexport default MainScreen;\n"]},"metadata":{},"sourceType":"module"}